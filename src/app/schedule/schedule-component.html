<div class="schedule-container" *ngIf="scheduleData">
  <h1 class="title">Cronograma de Estudos ({{ scheduleData.totalWeeks }} semanas)</h1>
  <p class="daily-hours">
    Horas diárias previstas: <strong>{{ scheduleData.dailyStudyHours }}</strong>
  </p>

  <div class="week-pagination">
    <button
      class="week-button"
      *ngFor="let week of scheduleData.schedule"
      (click)="setCurrentWeek(week.week)"
      [class.active]="currentWeek === week.week"
    >
      Semana {{ week.week }}
    </button>
  </div>

  <div class="weeks-container">
    <div class="week-card" *ngFor="let week of scheduleData.schedule">
      
      <ng-container *ngIf="week.week === currentWeek">
        <h2 class="week-title">Semana {{ week.week }}</h2>

        <div class="days-container">
          <div class="day-card" *ngFor="let day of week.days">
            <h3 class="day-title">{{ day.day }}</h3>

            <div class="topics-list">
              <div
                class="topic-card"
                *ngFor="let topic of day.studyTopics"
                [ngClass]="getDifficultyColor(topic.difficulty)"
              >
                <div class="topic-header">
                  <span class="topic-difficulty">{{ topic.difficulty }}</span>
                  <span class="topic-hours">{{ topic.allocatedHours }}h</span>
                </div>
                <p class="topic-name">{{ topic.topicName }}</p>
              </div>
            </div>

          </div>
        </div>
      </ng-container>

    </div>
  </div>
</div>
<div class="no-schedule-options-container" *ngIf="!scheduleData">
  <mat-card class="option-card view-schedule-card">
    <mat-card-header>
      <mat-card-title>
        <span class="material-icons"> visibility </span>
        Ver Cronograma
      </mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <p>Acesse e visualize o seu cronograma de estudos criado anteriormente.</p>
    </mat-card-content>
    <mat-card-actions>
      <button mat-button class="option-button primary-button">ACESSAR CRONOGRAMA</button>
    </mat-card-actions>
  </mat-card>

  <mat-card class="option-card create-schedule-card">
    <mat-card-header>
      <mat-card-title>
        <span class="material-icons"> add_box </span>
        Criar Cronograma
      </mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <p>Comece do zero e crie um novo plano de estudos personalizado para você.</p>
    </mat-card-content>
    <mat-card-actions>
      <button mat-button class="option-button secondary-button" (click)="openCreateScheduleDialog()">NOVO CRONOGRAMA</button>
    </mat-card-actions>
  </mat-card>
</div>