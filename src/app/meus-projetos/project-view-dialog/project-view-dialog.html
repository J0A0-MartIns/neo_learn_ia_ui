<div class="dialog-container">

    <div class="left">
        <div class="header">
            <h2>{{ projeto?.name }}</h2>

            <div class="metadata">
                <p>Criado em: {{ projeto?.createdAt | date:'dd/MM/yyyy' }}</p>
                <p>Última alteração: {{ (projeto?.updatedAt || projeto?.createdAt) | date:'dd/MM/yyyy' }}</p>
                <p>Compartilhamento: {{ projeto?.isPublic ? 'Público' : 'Privado' }}</p>
            </div>

            <div class="tags" *ngIf="projeto?.tags?.length">
                <span class="tag" *ngFor="let tag of projeto.tags">{{ tag }}</span>
            </div>
        </div>

        <div class="description-section">
            <h4>Descrição</h4>
            <p class="desc-text">
                {{ projeto?.description || 'Sem descrição disponível.' }}
            </p>
        </div>

        <div class="metrics">
            <div class="metric-item">
                <div class="circle">{{ projeto?.views || 0 }}</div>
                <span>Visualizações</span>
            </div>
            <div class="metric-item">
                <div class="circle">{{ projeto?.likes || 0 }}</div>
                <span>Likes</span>
            </div>
        </div>

        <div class="footer-actions">
            <button class="btn-action" (click)="togglePublic()">
                {{ projeto?.isPublic ? 'Privar' : 'Publicar' }}
                <mat-icon>
                    {{ projeto?.isPublic ? 'lock' : 'public' }}
                </mat-icon>
            </button>
            <button class="btn-action" (click)="abrirCronograma()">
                Cronograma <mat-icon>calendar_today</mat-icon>
            </button>
            <button class="btn-action" (click)="editarProjeto()">
                Editar <mat-icon>edit_note</mat-icon>
            </button>
            <button class="btn-action" (click)="excluirProjeto()">
                Excluir <mat-icon>delete</mat-icon>
            </button>
            <button class="btn-action" (click)="gerarQuestoes()">
                Gerar Questões <mat-icon>quiz</mat-icon>
            </button>
        </div>
    </div>

    <div class="right">
        <div class="content-header">
            <button class="filter-btn">
                Filtrar <mat-icon>filter_list</mat-icon>
            </button>
            <h3>Conteúdo</h3>
        </div>

        <div class="document-list">
            <ng-container *ngIf="projeto?.attachments as listaArquivos">

                <div class="doc-item"
                     *ngFor="let doc of listaArquivos; let i = index"
                     [class.even]="i % 2 !== 0">
                    {{ doc.fileName || doc.name || doc.originalFileName || doc }}
                </div>

                <div *ngIf="listaArquivos.length === 0" style="text-align: center; color: #777; margin-top: 20px;">
                    Nenhum arquivo anexado.
                </div>
            </ng-container>

            <div *ngIf="!projeto?.attachments" style="text-align: center; color: #777; margin-top: 20px;">
                Nenhum arquivo encontrado.
            </div>
        </div>
    </div>
</div>